<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=GB2312">
<title>百度之星astar2009程序设计大赛</title>
<style type="text/css">
<!--
body,td,th {
	font-size: 12px;
}
body {
	margin-left: 0px;
	margin-top: 0px;
}
-->
</style>
<link href="%E6%8B%BC%E8%BD%A6_files/star.css" rel="stylesheet" type="text/css">
<link href="%E6%8B%BC%E8%BD%A6_files/star2008.css" rel="stylesheet" type="text/css">
</head><body>
<table align="center" border="0" cellpadding="0" cellspacing="0" height="49" width="940">
  <tbody><tr>
    <td width="319"><img src="%E6%8B%BC%E8%BD%A6_files/logo.jpg" height="53" width="319"></td>
    <td width="347">&nbsp;</td>
    <td valign="bottom" width="274">&nbsp;</td>
  </tr>
</tbody></table>

<table align="center" background="%E6%8B%BC%E8%BD%A6_files/top01.jpg" border="0" cellpadding="0" cellspacing="0" height="33" width="940">
  <tbody><tr>
    <td width="30">&nbsp;</td>
    <td>
              <div style="float: right;"><a href="http://astar.baidu.com/main/update.php">个人信息及修改</a> <a href="http://astar.baidu.com/main/logout.php">退出登录</a>&nbsp;&nbsp;</div>
      
      <span class="z1"><strong><a href="http://astar.baidu.com/index.html" class="z1">Astar首页</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://astar.baidu.com/intro.html" class="z1">赛事概述</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://astar.baidu.com/rules.html" class="z1">赛事规则</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://astar.baidu.com/collect.html" class="z1">赛题集锦</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://astar.baidu.com/guide.html" class="z1">答题指南</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://astar.baidu.com/faq.html" class="z1">Q&amp;A</a></strong><strong>&nbsp;&nbsp;</strong></span>
<strong>      <span class="z1"><strong><a href="http://astar.baidu.com/star.html" class="z1">星语星愿</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a target="_blank" href="http://hi.baidu.com/sys/search?type=0&amp;sort=1&amp;word=a%2Astar&amp;entry=2&amp;region=2&amp;hi=baidu&amp;date=" class="z1">往届回顾</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://www.baidu.com/home.html" target="_blank" class="z1">关于百度</a></strong>&nbsp;&nbsp;</span>

    </strong></td>
  </tr>
</tbody></table>
<br>




<table align="center" border="0" cellpadding="0" cellspacing="0" height="49" width="940">
  <tbody><tr>
  	<td>


<table align="center" bgcolor="#c9d5ed" border="0" cellpadding="0" cellspacing="1" width="940">
  <tbody><tr>
    <td background="%E6%8B%BC%E8%BD%A6_files/batton02.jpg" height="26">
    <p class="z1"><strong>&nbsp;<a name="00"></a>在线答题</strong></p>
    </td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" height="99" valign="top"><span class="z5"><br></span>
        <table align="center" border="0" cellpadding="0" cellspacing="0" width="840">
          <tbody><tr><td>


<div align="right"><a href="http://astar.baidu.com/main/entry.php">我要重新选题</a>&nbsp;&nbsp;</div>

<div class="box_1 f14">


  <span style="font-family: 黑体; font-size: 40px;">4. 拼车<span class="smarterwiki-popup-bubble" style="opacity: 1; margin-left: -51px; margin-top: -36px;"><span class="smarterwiki-popup-bubble-body"><span class="smarterwiki-popup-bubble-links smarterwiki-clearfix"><span class="smarterwiki-popup-bubble-links-row smarterwiki-clearfix"><a target="_blank" title="Search Wikipedia" href="http://smarterfox.com/wikisearch/search?q=%E6%8B%BC%E8%BD%A6&amp;locale=zh-CN" class="smarterwiki-popup-bubble-link"><img src="%E6%8B%BC%E8%BD%A6_files/wiki-favicon-sharpened.png" alt="" class="smarterwiki-popup-bubble-link-favicon"></a><a target="_blank" title="Search Google" href="http://www.google.com/search?q=%E6%8B%BC%E8%BD%A6" class="smarterwiki-popup-bubble-link"><img src="%E6%8B%BC%E8%BD%A6_files/favicon.ico" alt="" class="smarterwiki-popup-bubble-link-favicon"></a></span></span></span><span class="smarterwiki-popup-bubble-tip"></span></span> （100分）</span>

<h2>时间限制:10秒/CASE</h2>
<h2>题目描述</h2>
虽然北京的公交系统很发达, 但对上班一族来说, 出租车仍是很常用的交通工具. 度度熊就经常坐出租车上下班. 有一天他发现一个现象:
他的同事基本上都是每人单独坐一辆车，虽然有些人住在同一个方向，甚至同一个小区。他想,
可以考虑让大家拼车，即节约出租车资源，又可以减少大家的支出. <p>
度度熊作了以下假定:
</p><ul>
<li>出租车最多一辆可以坐4个人(为简单计,不考虑像度度熊这样因体积太大而坐不了4个人的情况).
</li><li>假设公路都是横平竖直的，可以用正方形框格来表示公路。相交的公路视为连通（可以在交叉点处从一条公路开到另一公路上）。车只可以在公路上走。
</li><li>员工家都在公路的交叉点处。员工下班后，都从公司所在位置直接打的士回家。
</li><li>每位员工只能乘坐一辆出租车到达目的地，不能中途下车，换乘其他出租车。
</li></ul>

<p>
同往常一样, 度度熊只喜欢出主意, 却不喜欢写代码. 所以这个重任就只好落到你身上了:)
<br>
你的任务是写一个程序：求出一种员工打车方案，使得把所有员工送回家，在这种情况下, 要使所有的士所走的路程尽量短。
</p><p>
为了方便起见，用笛卡尔坐标系来描述员工家所在区域。假定员工家所在区域的长和宽均为9。
</p><p>
下面是公司所在位置为（3,3）时，坐标描述图：<br>
</p><p>
<img src="%E6%8B%BC%E8%BD%A6_files/taxi_road.jpg">
<br>图1. 公路示意图.

</p><h2>输入格式</h2>
输入包括: 公司位置，员工总人数 和 每个员工家所在的位置。
<p>
具体格式见下：
</p><p>
第1行：有1个数N（0&lt;N&lt;100），表示当天需要打的回家的员工总人数。<br>
第2至N+1行，每行有2个整数，分别为Xi（0&lt;=Xi&lt;=8）和Yi（0&lt;=Yi&lt;=8），中间用空格隔开，表示员工i所要
到达目的地的坐标。例如，第2行是员工1的家的坐标位置，第3行是员工2家的坐标位置，依次类推。不同员工的住址可能完全相同，员工的住址也可以和公司重
合（可以在程序中直接忽略他）。<br>
第N+2行有2个数，分别为M（0&lt;=M&lt;=8）和W（0&lt;=W&lt;=8），中间用空格隔开，表示公司的坐标。<br>

</p><h2>输出格式</h2>
输出包括：总的最短公里数，所需车的数目，以及每辆车所载的员工（用坐标表示）和每辆车所走的路线（用坐标表示）。
<p>
具体格式见下：
</p><p>
第1行：总的最短公里数。<br>
第2行：所需车的总数目，假定是C；<br>
</p><p>
下面第3行至第C+2行，每一行输出包含三部分：<br>
第一部分是该车所走路程；<br>
第二部分是该车所载的员工，目的地坐标表示；<br>
第三部分是该车所走的路线，用经过的交叉点坐标序列表示。<br>
</p><p>
第一部分和第二部分之间用 空格 分割；<br>
第二部分和第三部分之间用“:”分割。<br>

</p><h2>样例输入</h2>
<pre>8
0 0
4 0
7 1
5 4
1 5
3 6
6 6
1 8
3 3
</pre>

<h2>样例输出</h2>
<pre>29
4
6 (0,0) : (3,3) (2,3) (1,3) (0,3) (0,2) (0,1) (0,0)
8 (4,0) (7,1) : (3,3) (3,2) (3,1) (3,0) (4,0) (5,0) (6,0) (7,0) (7,1)
6 (5,4) (6,6) : (3,3) (4,3) (5,3) (5,4) (5,5) (5,6) (6,6)
9 (1,8) (1,5) (3,6) : (3,3) (3,4) (3,5) (3,6) (2,6) (2,5) (1,5) (1,6) (1,7) (1,8)
</pre>

<h2>样例解释</h2>
输入的员工家、公司具体位置以及拼车方案见下图:
<br>
<img src="%E6%8B%BC%E8%BD%A6_files/taxi_example.jpg">
<pre>此例的一个打车方案为：
1号线路程为6公里，载1人。
2号线路程为8公里，载2人。
3号线路程为6公里，载2人。
4号线路程为9公里，载3人。
总计最短路程为29公里。
</pre>

<h2>评分方法</h2>
如果你的程序输出方案非法, 那么你的得分为0.
否则得分非0.你的得分是由你的方案得到的总的最短公里数在所有<em>有提交且得分非0</em>的选手中的排序而定.
<p>
具体来说, 设测试点分数为S, 得分非0的程序数为 M ，比程序 i 的方案严格更优(总的公里数更小)的程序数为 Y(i) ，则该测试点程序
i 的分值为 S(1-Y(i)/M)。换句话说，输出该测试点最优解的程序将获得 S 分，而最差解惟一的情况，输出最差解（但合法）的选手将得到
S/M 分。注意：每个测试点的得分不必为整数。
</p><h2>测试数据</h2>
共25组，员工人数近似在[0,100]中均匀分布，公司位置和每个员工家所在位置都是<em>随机</em>生成的。

</div>
<div align="right"><a href="http://astar.baidu.com/main/entry.php">我要重新选题</a>&nbsp;&nbsp;</div>


<iframe marginheight="0" marginwidth="0" src="%E6%8B%BC%E8%BD%A6_files/keepalive.htm" frameborder="0" height="0" scrolling="no" width="100%"></iframe>
<div class="box_1 f14">
<table style="border: 1px solid rgb(241, 203, 156);" border="0" cellpadding="0" cellspacing="0" width="730">
<form name="theform" action="../main/compile.php" target="_blank" method="post" onsubmit="return CheckCode(this)"></form>
<input name="qid" value="4" type="hidden">
  <tbody><tr>
    <td class="tab_4" bgcolor="#fbeddc" height="30">
      <strong><span style="float: right; padding-right: 20px;" id="timex">答题时间剩余： <font color="#008000"><strong>3 小时 24 分 39 秒</strong></font></span>
      <span class="f14">答题区</span></strong>
    </td>
  </tr>
  <tr>
    <td class="tab_4"><br>
      选择语言 
        <input name="lang" value="1" type="radio">C 
        <input name="lang" value="2" type="radio">C++
        <br>
        <textarea name="code" cols="97" rows="25"></textarea>
        <br>
        <br>
        <div align="center">
          <input name="submitcode" value="提交代码" type="submit"><br><br>
        </div>
    </td>
  </tr>

</tbody></table>
</div>

<script>
function CheckCode(o)
{
	var lang = o.lang;
	if(!lang[0].checked && !lang[1].checked)
	{
		alert("请选择您使用的编程语言！");
		return false;
	}
	var code = o.code;
	if (code.value.length<10)
	{
		alert("请填写完整的代码！");
		return false;
	}
	return true;
}
</script>
<script language="javascript">
var ctimer;
total = 12288;
init();
function init()
{
	settotal();
	showtime();
}

function settotal()
{
	var time=new Date();
	secs = time.getSeconds();
	total += secs;
}

function showtime()
{
	var time= new Date();
	secs= time.getSeconds();
	if (secs == 0)
	{
		total -= 60;
	}

	remain = total - secs;
	hour = parseInt(remain / 3600);
	min = parseInt((remain - hour * 3600) / 60);
	sec = remain % 60;
	
	if (min < 10)
		min = "0" + min;
	if (sec < 10)
		sec = "0" + sec;

	remainshow = "<strong>" + hour + " 小时 " + min + " 分 " + sec + " 秒" + "</strong>";
	timer = document.getElementById('timex');
	if (remain < 0)
		timer.innerHTML = "答题时间剩余： " + "<font color=\"#FF0000\">" + "0 小时 00 分 00 秒" + "</font>";
	else if (remain < 1800)
		timer.innerHTML = "答题时间剩余： " + "<font color=\"#FF0000\">" + remainshow + "</font>";
	else
		timer.innerHTML = "答题时间剩余： " + "<font color=\"#008000\">" + remainshow + "</font>";
	ctimer = setTimeout('showtime()',1000);
}
</script>


          </td></tr>
        </tbody></table>
    </td>    
  </tr>
</tbody></table>    </td>
  </tr>
</tbody></table>


<div align="center">
  <script language="JavaScript" src="%E6%8B%BC%E8%BD%A6_files/new_root.js"></script><style>
#ft{clear:both;margin-top:20px;line-height:20px;text-align:center}
#ft,#ft *{color:#77C;font-size:12px;font-family:Arial;white-space:nowrap}
body{margin-bottom:4px}
</style>
<div id="ft">&#169;2009 Baidu <a href="http://www.baidu.com/duty/">使用百度前必读</a></div>

</div>

</body></html>