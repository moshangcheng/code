<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=gb2312"><title>百度之星astar2008程序设计大赛</title>

<style type="text/css">
<!--
body,td,th {
	font-size: 12px;
}
body {
	margin-left: 0px;
	margin-top: 0px;
}
-->
</style>
<link href="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/star.css" rel="stylesheet" type="text/css">
<link href="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/star2008.css" rel="stylesheet" type="text/css">
<style>
#ft{clear:both;margin-top:20px;line-height:20px;text-align:center}
#ft,#ft *{color:#77C;font-size:12px;font-family:Arial;white-space:nowrap}
body{margin-bottom:4px}
</style></head><body>
<table align="center" border="0" cellpadding="0" cellspacing="0" height="49" width="940">
  <tbody><tr>
    <td width="319"><img src="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/logo.jpg" height="53" width="319"></td>
    <td width="347">&nbsp;</td>
    <td valign="bottom" width="274">&nbsp;</td>
  </tr>
</tbody></table>
<br>
<table align="center" bgcolor="#7d91a6" border="0" cellpadding="0" cellspacing="1" width="200">
  <tbody><tr>
    <td><img src="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/banner2.jpg" height="88" width="937"></td>
  </tr>
</tbody></table>
<br>
<table align="center" background="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20(20%E5%88%86)_files/top01.jpg" border="0" cellpadding="0" cellspacing="0" height="33" width="940">
  <tbody><tr>
    <td width="30">&nbsp;</td>
    <td>
              <div style="float: right;"><a href="http://star.baidu.com/main/update.php">个人信息及修改</a> <a href="http://star.baidu.com/main/logout.php">退出登录</a>&nbsp;&nbsp;</div>
      
      <span class="z1"><strong><a href="http://star.baidu.com/index.html" class="z1">Astar首页</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://star.baidu.com/intro.html" class="z1">赛事概述</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://star.baidu.com/rules.html" class="z1">赛事规则</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://star.baidu.com/guide.html" class="z1">答题指南</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://star.baidu.com/faq.html" class="z1">Q&amp;A</a></strong><strong>&nbsp;&nbsp;</strong></span>
<strong>      <span class="z1"><strong><a href="http://star.baidu.com/star.html" class="z1">星语星愿</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://star.baidu.com/hist1.html" class="z1">往届回顾</a></strong>&nbsp;&nbsp;</span>
      <span class="z1"><strong><a href="http://www.baidu.com/home.html" target="_blank" class="z1">关于百度</a></strong>&nbsp;&nbsp;</span>
    </strong></td>
  </tr>
</tbody></table>
<br>




<table align="center" border="0" cellpadding="0" cellspacing="0" height="49" width="940">
  <tbody><tr>
  	<td>

<table align="center" bgcolor="#c9d5ed" border="0" cellpadding="0" cellspacing="1" width="940">
  <tbody><tr>
    <td background="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20(20%E5%88%86)_files/batton02.jpg" height="26">
    <p class="z1"><strong>&nbsp;<a name="00"></a>在线答题</strong></p>
    </td>
  </tr>
  <tr>
    <td bgcolor="#ffffff" height="99" valign="top"><span class="z5"><br></span>
        <table align="center" border="0" cellpadding="0" cellspacing="0" width="840">
          <tbody><tr><td>


<div align="right"><a href="http://star.baidu.com/main/entry.php">我要重新选题</a>&nbsp;&nbsp;</div>

<div class="box_1 f14">


  <span style="font-family: 黑体; font-size: 20px;">2. LZW网页判重 (20分)</span>


  <h3>问题背景</h3>
<p>

  	<img src="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/f.jpg" style="padding-left: 10px; padding-bottom: 5px;" align="right">
有一种简单的网页判重的方法，通过求两个网页内容的最长公共子序列(LCS)长度来判定两个网页的相似程度。如：<br>
（网页A）老师：请用“<strong>果然</strong>”造句。<br>
（网页B）学生：先吃水<strong>果</strong>，<strong>然</strong>后喝汽水……<br>
它们的最长公共子序列为“果然”，长度为2。注意这里的“子序列”并不要求连续。<br>
<br>
类似的，下面两个网页：<br>
（网页A）老师：请用“<strong>果然</strong>”造句。<br>
（网页B）学生：先吃水果，然后喝汽水，<strong>果然</strong>拉肚子……<br>
<br>
最长公共子序列还是“果然”，长度为2。但不难看出，由于“果然”两个字在网页B中也曾连续出现，第二组网页比第一组更加“相似”。为了区分开这两种情况的区分度，我们改用一种称为LZW的理论。为了严格的叙述相似度的计算方法，我们首先定义“文本单元”。<br>
<br>
假定网页用一个不包含空白字符（空格、回车换行、水平制表符）的字符串来表示。它只包含纯文本，没有标签。在计算相似度之前，你应该首先对该字符串进行处
理，划分成一个个“文本单元”。每个文本单位可以是一个中文字、英文单词（由一个或多个连续的半角英文字母和数字组成，正规表达式为[a-zA-Z0-
9]+）、或者一个标点符号。<br>
<br>
根据上述定义，同一个标点符号的全角和半角应该被作为不同的文本单元，尽管他们看起来可能很相近；每个单独全角英文和全角数字都应该被看成一个单独的文本单元，而连续的半角英文字母和数字应被看成一个整体。总之，全角的字符可以与中文字同等对待。<br>
<br>
这样，网页被看成文本单元序列。例如，网页“内容？１２345６??web2.00#”切分出的文本单元序列为（为了显示方便，用下划线分隔各文本单元）：<br>
<strong>内</strong>_<strong>容</strong>_？_１_２_345_６_<strong>?</strong>_<strong>?</strong>_web2_._<strong>00</strong>_#
<br>
<br>
而网页“why内容相似??1234567890,web#00”的切分结果为：<br>
why_<strong>内</strong>_<strong>容</strong>_相_似_<strong>?</strong>_<strong>?</strong>_1234567890_,_web_#_<strong>00</strong><br>
<br>
黑体部分给出了两个网页的一个公共子序列。注意“内容”、“??”分别在两个网页中都是连续出现的文本单元。
为了奖励这种情况，LZW规定一段由连续k个文本单元组成的字符串权值为k<sup>2</sup>。在刚才的例子中，“内容”、“??”的权值均为4。但“00”是一个数字串，应当被看成一个单独的文本单元。所以权值仅为1。<br>
<br>
根据上述规则，公共子序列“内容 ?? 00”的权值为2<sup>2</sup>+2<sup>2</sup>+1=9。在所有可能的子序列中，这个权值是最大的。<br>
<br>
给定两个网页，求他们的LZW相似度，即所有可能的公共子序列中的最大权值。<br>
<br>

</p>

  <h3>注意</h3>
  <p>
1) 输入的网页内容以GBK编码(<a href="http://star.baidu.com/faq.html" target="_blank">参见FAQ</a>)
<br>
2) 除了大小写英文字母和数字之外的其他半角字符均视为标点符号。

	</p>





  <h3>输入格式</h3>
  <p>
包含两行，分别是网页A和B对应的字符串（不包含空白字符）。每行至少包含5个字节，最多包含200个字节。

	</p>

  <h3>输出格式</h3>
  <p>
输出仅一行，包含一个整数，为两个网页的LZW相似度。

	</p>
  <h3>样例输入</h3>
  <p>

内容？１２345６??web2.00#
<br>

why内容相似??1234567890,web#00

	</p>
  <h3>样例输出</h3>
  <p>
9
	</p>


  <h3>样例解释</h3>
  <p>尽管两个网页里看上去都有“123456”但一方面第一个网页中混杂的全角和半角字符，而另一方面，即使全部改成半角字符，由于数字串“123456”和“1234567890”将分别看成一个单独的文本单元，因此无法部分匹配。
	</p>

</div>
<div align="right"><a href="http://star.baidu.com/main/entry.php">我要重新选题</a>&nbsp;&nbsp;</div>


<iframe marginheight="0" marginwidth="0" src="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/keepalive.htm" frameborder="0" height="0" scrolling="no" width="100%"></iframe>
<div class="box_1 f14">
<input name="qid" value="2" type="hidden">
  <table style="border: 1px solid rgb(241, 203, 156);" border="0" cellpadding="0" cellspacing="0" width="730">
<form name="theform" action="../main/compile.php" target="_blank" method="post" onsubmit="return CheckCode(this)"></form>
<tbody><tr>
    <td class="tab_4" bgcolor="#fbeddc" height="30">
      <strong><span style="float: right; padding-right: 20px;" id="timex">答题时间剩余： <font color="#ff0000">0 小时 00 分 00 秒</font></span>
      <span class="f14">答题区</span></strong>
    </td>
  </tr>
  <tr>
    <td class="tab_4"><br>
      选择语言 
        <input name="lang" value="1" type="radio">C 
        <input name="lang" value="2" checked="checked" type="radio">C++
        <br>
        <textarea name="code" cols="97" rows="25"></textarea>
        <br>
        <br>
        <div align="center">
          <input name="submitcode" value="提交代码" type="submit"><br><br>
        </div>
    </td>
  </tr>

</tbody></table>
</div>

<script>
function CheckCode(o)
{
	var lang = o.lang;
	if(!lang[0].checked && !lang[1].checked)
	{
		alert("请选择您使用的编程语言！");
		return false;
	}
	var code = o.code;
	if (code.value.length<10)
	{
		alert("请填写完整的代码！");
		return false;
	}
	return true;
}
</script>
<script language="javascript">
var ctimer;
total = 10;
init();
function init()
{
	settotal();
	showtime();
}

function settotal()
{
	var time=new Date();
	secs = time.getSeconds();
	total += secs;
}

function showtime()
{
	var time= new Date();
	secs= time.getSeconds();
	if (secs == 0)
	{
		total -= 60;
	}

	remain = total - secs;
	hour = parseInt(remain / 3600);
	min = parseInt((remain - hour * 3600) / 60);
	sec = remain % 60;
	
	if (min < 10)
		min = "0" + min;
	if (sec < 10)
		sec = "0" + sec;

	remainshow = "<strong>" + hour + " 小时 " + min + " 分 " + sec + " 秒" + "</strong>";
	timer = document.getElementById('timex');
	if (remain < 0)
		timer.innerHTML = "答题时间剩余： " + "<font color=\"#FF0000\">" + "0 小时 00 分 00 秒" + "</font>";
	else if (remain < 1800)
		timer.innerHTML = "答题时间剩余： " + "<font color=\"#FF0000\">" + remainshow + "</font>";
	else
		timer.innerHTML = "答题时间剩余： " + "<font color=\"#008000\">" + remainshow + "</font>";
	ctimer = setTimeout('showtime()',1000);
}
</script>


          </td></tr>
        </tbody></table>
    </td>    
  </tr>
</tbody></table>    </td>
  </tr>
</tbody></table>


<div align="center">
  <script language="JavaScript" src="2.%20LZW%E7%BD%91%E9%A1%B5%E5%88%A4%E9%87%8D%20%2820%E5%88%86%29_files/new_root.js"></script>
<div id="ft">&#169;2008 Baidu <a href="http://www.baidu.com/duty/">使用百度前必读</a></div>

</div>

<!--
tc01
-->

</body></html>